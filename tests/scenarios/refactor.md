# 场景定义：代码重构

## 典型特征

- 改进现有代码结构，不改变外部行为
- 通常涉及多个文件的修改
- 目标是提高可读性、可维护性、性能
- 需要保证功能等价

## 常见类型

1. **提取函数/组件**
   - 代码复用
   - 单一职责

2. **重命名**
   - 变量、函数、类名
   - 提高可读性

3. **架构调整**
   - 分层重构
   - 依赖关系调整

4. **技术债务清理**
   - 废弃代码移除
   - 升级依赖版本

## 常见决策点

1. **重构范围**
   - 全量重构 vs 渐进式
   - 是否保留兼容层

2. **测试策略**
   - 先写测试后重构
   - 依赖现有测试覆盖度

3. **回滚策略**
   - 小步提交
   - Feature flag

## Triage 策略

- **Level 判定**: 通常为 Level 3-4
  - 小范围重构 → Level 3
  - 架构级重构 → Level 4
- **关键信息**: 影响范围、测试覆盖率、回滚方案
- **常见风险**: 引入 regression、测试覆盖不足

## 示例 Plan

（待添加：组件提取重构示例）
