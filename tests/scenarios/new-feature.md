# 场景定义：新功能开发

## 典型特征

- 从0开始实现新功能
- 涉及多个文件的新增/修改
- 需要选择技术方案和架构
- 通常包含 API 设计、数据库 schema、前端界面
- 可能需要引入新的依赖

## 常见决策点

1. **技术选型**
   - 前端组件库选择
   - 状态管理方案
   - API 设计风格 (REST vs GraphQL)

2. **数据库设计**
   - 表结构
   - 索引策略
   - 迁移策略

3. **第三方服务**
   - 支付网关
   - 邮件服务
   - 文件存储

## Plan 结构示例

典型的新功能 Plan 包含以下步骤：

1. 依赖安装
2. 数据库迁移
3. 后端 API 开发
4. 前端组件开发
5. 集成测试
6. 文档更新

## Triage 策略

- **Level 判定**: 通常是 Level 4（多步骤，多决策）
- **关键信息**: 工作量估算、依赖风险、回滚方案
- **常见风险**: 新依赖的稳定性、第三方服务集成失败

## 示例 Plan

见 `../samples/level-4-auth-migration.md`
